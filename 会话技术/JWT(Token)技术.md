# JWT(Token)技术



## 1、Token原理

![Token Based Authentication flow](../PicSource/Token-Based-Authentication-20200114191941819.png)

> 1. 用户向服务器发送用户名和密码用于登陆系统。
> 2. 身份验证服务响应并返回了签名的 JWT，上面**<font color='red'>包含了用户是谁的内容。</font>**
> 3. 用户以后每次向后端发请求都在Header中带上 JWT。
> 4. 服务端检查 JWT 并从中获取用户相关信息。



## 2、Token优点

> 1. 避免CSRF（跨站请求伪造）攻击
>
>    那么究竟什么是 **跨站请求伪造** 呢？说简单用你的身份去发送一些对你不友好的请求。举个简单的例子：
>
>    小壮登录了某网上银行，他来到了网上银行的帖子区，看到一个帖子下面有一个链接写着“科学理财，年盈利率过万”，小壮好奇的点开了这个链接，结果发现自己的账户少了10000元。这是这么回事呢？原来黑客在链接中藏了一个请求，这个请求直接利用小壮的身份给银行发送了一个转账请求,也就是通过你的 Cookie 向银行发出请求。
>
> 2. 适合移动端应用
>
>    使用 Session 进行身份认证的话，需要保存一份信息在服务器端，而且这种方式会==依赖到 Cookie（需要 Cookie 保存 SessionId），而Cookie又依赖于浏览器==，所以不适合移动端。
>
>    但是，使用 token 进行身份认证就不会存在这种问题，因为只要 token 可以被客户端存储就能够使用，而且 token 还可以跨语言使用。
>
> 3. 单点登录友好
>
>    使用 Session 进行身份认证的话，实现单点登录，需要我们把用户的 Session 信息保存在一台电脑上，并且还会遇到常见的 Cookie 跨域的问题。但是，使用 token 进行认证的话， token 被保存在客户端，不会存在这些问题。

