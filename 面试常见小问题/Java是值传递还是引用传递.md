# Java是值传递还是引用传递

首先答案是值传递。

参考：https://www.hollischuang.com/archives/2275

## 值传递和引用传递

### &sect; 定义

> - **值传递**（pass by value）是指在调用函数时将实际参数复制一份传递到函数中，这样在函数中如果对参数进行修改，将不会影响到实际参数。
>
> - **引用传递**（pass by reference）是指在调用函数时将实际参数的地址直接传递到函数中，那么**<font color='red'>在函数中对参数所进行的修改，将影响到实际参数。</font>**



关于基本类型就不讨论了，这里只讨论引用类型。

**值传递和引用传递的区别并不是传递的内容。而是<font color='red'>实参到底有没有被复制一份给形参，复制了即为值传递。</font>**而java中是值传递，==对于对象参数，值的内容是对象的引用的副本==。当一个对象实例作为一个参数被传递到方法中时，参数的值就是该对象的引用一个副本。指向同一个对象*,*对象的内容可以在被调用的方法中改变，<font color='red'>但对象的引用*(*不是引用的副本*)*是永远不会改变的。</font>

------



> 注意：如下修改不会影响实参user
>
> ```java
> public void method(User user){
> 	User user = new User(); // 会重新开辟一块0X456789的内存，赋值给user。
> 	user.xxx();
> 	...
> }
> ```

**上面的参数其实是值传递，因为引用传递的话，修改user时应该要影响实参。==把实参对象引用的地址复制了一份给了形式参数，所以是值传递==。**

------

> <font color='red' size=4>***java中的值传递相当于c++中的指针传递。而c++还有引用传递，及`func(A &a)`，这里形参就是实参的“别名”，而且==因为c++中对引用一旦被初始化，就不能改变引用关系（从一而终）==，所以，相当于函数内部对引用的修改就是对原对象的修改。***</font>

