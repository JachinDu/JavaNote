# 进程与线程

## **程序**

是含有**<font color='red'>指令和数据</font>**的文件，被存储在磁盘或其他的数据存储设备中，也就是说程序是静态的代码。



## **进程**

> - 是程序的一次执行过程，是**<font color='red'>*系统运行程序的基本单位*</font>**，因此进程是动态的。**<font color='red'>*系统运行一个程序即是一个进程从创建，运行到消亡的过程。*</font>**简单来说，一个进程就是一个执行中的程序，它在计算机中一个指令接着一个指令地执行着。
>
> - 同时，**<font color='red'>每个进程还占有某些系统资源如CPU时间，内存空间，文件，输入输出设备的使用权等等</font>**。换句话说，当程序在执行时，将会被操作系统载入内存中。 

------



## **线程**

与进程相似，但线程是一个比进程更小的执行单位。一个进程在其执行的过程中可以产生多个线程。与进程不同的是**<font color='red'>同类的多个线程==共享同一块内存空间和一组系统资源==，所以系统在产生一个线程，或是在各个线程之间作切换工作时，负担要比进程小得多，也正因为如此，线程也被称为轻量级进程。</font>**

线程是进程划分成的更小的运行单位。线程和进程最大的不同在于基本上各进程是独立的，而各线程则不一定，因为同一进程中的线程极有可能会相互影响。从另一角度来说，**<font color='red'>进程属于操作系统的范畴，主要是同一段时间内，可以同时执行一个以上的程序，而线程则是在同一程序内几乎同时执行一个以上的程序段。</font>**

------



## 四种==进程间==通信方式

### 1.管道(pipe)

​    管道是一种具有两个端点的通信通道，一个管道实际上就是只存在在内存中的文件，对这个文件操作需要两个已经打开文件进行，他们代表管道的两端，也叫两个句槟，管道是一种特殊的文件，不属于一种文件系统，而是一种独立的文件系统，有自己的数据结构，根据管道的使用范围划分为无名管道和命名管道。
无名管道用于父进程和子进程之间，通常父进程创建管道，然后由通信的子进程继承父进程的读端点句柄和写端点句柄，或者父进程有读写句柄的子进程，这些子进程可以使用管道直接通信，不需要通过父进程。
命名管道，命名管道是为了解决无名管道只能在父子进程间通信而设计的，命名管道是建立在实际的磁盘介质或文件系统(而不是只存在内存中)，任何进程可以通过文件名或路径建立与该文件的联系，命名换到需要一种FIFO文件(有先进先出的原则)，虽然FIFO文件的inode节点在磁盘上，但仅是一个节点而已，文件的数据还是存在于内存缓冲页面中，和普通管道相同。

### 2.信号

​    信号，用于接受某种事件发生，除了用于进程间通信之外，进程还可以发送信号给进程本身。除了系统内核和root之外，只有具备相同id的进程才可以信号进行通信。

### 3.消息队列

​    消息队列是消息的链表，包括Posix消息队列和system v消息队列(Posix常用于线程，system常用于进程)，有权限的进程可以向消息队列中添加消息，有读权限的进程可以读走消息队列的消息。
消息队列克服了信号承载信息量少，管道只能承载无格式字节流及缓冲区大小受限等缺陷。

### 4.==共享内存==

​    共享内存使多个进程可以访问同一块内存空间，是最快的IPC形式，是针对其他通信方式运行效率低而设计的，往往与其他进程结合使用，如与信号量结合，来达到进程间的同步与互斥。传递文件最好用共享内存的方式。 
